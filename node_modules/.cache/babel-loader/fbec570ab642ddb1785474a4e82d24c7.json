{"ast":null,"code":"import \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withModifiers as _withModifiers, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\n\nvar _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"Create an event\", -1\n/* HOISTED */\n);\n\nvar _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"Name & describe your event\", -1\n/* HOISTED */\n);\n\nvar _hoisted_3 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"Where is your event?\", -1\n/* HOISTED */\n);\n\nvar _hoisted_4 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Location\", -1\n/* HOISTED */\n);\n\nvar _hoisted_5 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"Who is your organizer?\", -1\n/* HOISTED */\n);\n\nvar _hoisted_6 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"The image of the Event\", -1\n/* HOISTED */\n);\n\nvar _hoisted_7 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\"\n}, \"Submit\", -1\n/* HOISTED */\n);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_BaseInput = _resolveComponent(\"BaseInput\");\n\n  var _component_BaseSelect = _resolveComponent(\"BaseSelect\");\n\n  var _component_UploadImages = _resolveComponent(\"UploadImages\");\n\n  return _openBlock(), _createElementBlock(\"div\", null, [_hoisted_1, _createElementVNode(\"form\", {\n    onSubmit: _cache[5] || (_cache[5] = _withModifiers(function () {\n      return $options.saveEvent && $options.saveEvent.apply($options, arguments);\n    }, [\"prevent\"]))\n  }, [_createVNode(_component_BaseInput, {\n    modelValue: $data.event.category,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n      return $data.event.category = $event;\n    }),\n    type: \"text\",\n    label: \"Category\",\n    \"class\": \"field\"\n  }, null, 8\n  /* PROPS */\n  , [\"modelValue\"]), _hoisted_2, _createVNode(_component_BaseInput, {\n    modelValue: $data.event.title,\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n      return $data.event.title = $event;\n    }),\n    type: \"text\",\n    label: \"Title\"\n  }, null, 8\n  /* PROPS */\n  , [\"modelValue\"]), _createVNode(_component_BaseInput, {\n    modelValue: $data.event.description,\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = function ($event) {\n      return $data.event.description = $event;\n    }),\n    type: \"text\",\n    label: \"Description\"\n  }, null, 8\n  /* PROPS */\n  , [\"modelValue\"]), _hoisted_3, _hoisted_4, _createVNode(_component_BaseInput, {\n    modelValue: $data.event.location,\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = function ($event) {\n      return $data.event.location = $event;\n    }),\n    type: \"text\",\n    label: \"Location\"\n  }, null, 8\n  /* PROPS */\n  , [\"modelValue\"]), _hoisted_5, _createVNode(_component_BaseSelect, {\n    options: $options.GStore.organizers,\n    modelValue: $data.event.organizer.id,\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = function ($event) {\n      return $data.event.organizer.id = $event;\n    }),\n    label: \"Select an Organizer\"\n  }, null, 8\n  /* PROPS */\n  , [\"options\", \"modelValue\"]), _hoisted_6, _createVNode(_component_UploadImages, {\n    onChanged: $options.handleImages\n  }, null, 8\n  /* PROPS */\n  , [\"onChanged\"]), _hoisted_7], 32\n  /* HYDRATE_EVENTS */\n  ), _createElementVNode(\"pre\", null, _toDisplayString($data.event), 1\n  /* TEXT */\n  )]);\n}","map":{"version":3,"mappings":";;;;8BAEIA,oBAAwB,IAAxB,EAAwB,IAAxB,EAAI,iBAAJ,EAAmB;AAAA;AAAnB;;8BASEA,oBAAmC,IAAnC,EAAmC,IAAnC,EAAI,4BAAJ,EAA8B;AAAA;AAA9B;;8BAMAA,oBAA6B,IAA7B,EAA6B,IAA7B,EAAI,sBAAJ,EAAwB;AAAA;AAAxB;;8BAEAA,oBAAuB,OAAvB,EAAuB,IAAvB,EAAO,UAAP,EAAe;AAAA;AAAf;;8BAIAA,oBAA+B,IAA/B,EAA+B,IAA/B,EAAI,wBAAJ,EAA0B;AAAA;AAA1B;;8BAOAA,oBAA+B,IAA/B,EAA+B,IAA/B,EAAI,wBAAJ,EAA0B;AAAA;AAA1B;;8BAGAA,oBAAqC,QAArC,EAAqC;EAA7BC,IAAI,EAAC;AAAwB,CAArC,EAAsB,QAAtB,EAA4B;AAAA;AAA5B;;;;;;;;;uBAhCJC,oBAoCM,KApCN,EAoCM,IApCN,EAoCM,CAnCJC,UAmCI,EAlCJH,oBA+BO,MA/BP,EA+BO;IA/BAI,QAAM;MAAA,OAAUC,mEAAV;IAAA,GAAmB,WAAnB;EA+BN,CA/BP,GACEC,aAKEC,oBALF,EAKE;gBAJSC,YAAMC,QAIf;;aAJSD,YAAMC,WAAQC;MAIvB;IAHAT,IAAI,EAAC,MAGL;IAFAU,KAAK,EAAC,UAEN;IADA,SAAM;EACN,CALF;;EAAA,mBAOAC,YAEAN,aAA6DC,oBAA7D,EAA6D;gBAAzCC,YAAMK,KAAmC;;aAAzCL,YAAMK,QAAKH;MAA8B;IAA5BT,IAAI,EAAC,MAAuB;IAAhBU,KAAK,EAAC;EAAU,CAA7D;;EAAA,mBAEAL,aAAyEC,oBAAzE,EAAyE;gBAArDC,YAAMM,WAA+C;;aAArDN,YAAMM,cAAWJ;MAAoC;IAAlCT,IAAI,EAAC,MAA6B;IAAtBU,KAAK,EAAC;EAAgB,CAAzE;;EAAA,mBAEAI,YAEAC,YAEAV,aAAmEC,oBAAnE,EAAmE;gBAA/CC,YAAMS,QAAyC;;aAA/CT,YAAMS,WAAQP;MAAiC;IAA/BT,IAAI,EAAC,MAA0B;IAAnBU,KAAK,EAAC;EAAa,CAAnE;;EAAA,mBAEAO,YAEAZ,aAIEa,qBAJF,EAIE;IAHCC,OAAO,EAAEf,gBAAOgB,UAGjB;gBAFSb,YAAMc,SAAN,CAAgBC,EAEzB;;aAFSf,YAAMc,SAAN,CAAgBC,KAAEb;MAE3B;IADAC,KAAK,EAAC;EACN,CAJF;;EAAA,8BAKAa,YACAlB,aAAwCmB,uBAAxC,EAAwC;IAAzBC,SAAO,EAAErB;EAAgB,CAAxC,EAAoC,IAApC,EAAoC;EAAA;EAApC,EAAoC,aAApC,GAEAsB,WA9BF;;EAAA,CAkCI,EADJ3B,oBAAsB,KAAtB,EAAsB,IAAtB,EAAsB4B,iBAAdpB,WAAc,CAAtB,EAAa;EAAA;EAAb,CACI,CApCN","names":["_createElementVNode","type","_createElementBlock","_hoisted_1","onSubmit","$options","_createVNode","_component_BaseInput","$data","category","$event","label","_hoisted_2","title","description","_hoisted_3","_hoisted_4","location","_hoisted_5","_component_BaseSelect","options","organizers","organizer","id","_hoisted_6","_component_UploadImages","onChanged","_hoisted_7","_toDisplayString"],"sourceRoot":"","sources":["/Users/tanachok/Desktop/conBo/Project2/SE331-2022-Project-front-end/src/views/EventForm.vue"],"sourcesContent":["<template>\n  <div>\n    <h1>Create an event</h1>\n    <form @submit.prevent=\"saveEvent\">\n      <BaseInput\n        v-model=\"event.category\"\n        type=\"text\"\n        label=\"Category\"\n        class=\"field\"\n      />\n\n      <h3>Name & describe your event</h3>\n\n      <BaseInput v-model=\"event.title\" type=\"text\" label=\"Title\" />\n\n      <BaseInput v-model=\"event.description\" type=\"text\" label=\"Description\" />\n\n      <h3>Where is your event?</h3>\n\n      <label>Location</label>\n\n      <BaseInput v-model=\"event.location\" type=\"text\" label=\"Location\" />\n\n      <h3>Who is your organizer?</h3>\n\n      <BaseSelect\n        :options=\"GStore.organizers\"\n        v-model=\"event.organizer.id\"\n        label=\"Select an Organizer\"\n      />\n      <h3>The image of the Event</h3>\n      <UploadImages @changed=\"handleImages\" />\n\n      <button type=\"submit\">Submit</button>\n    </form>\n\n    <pre>{{ event }}</pre>\n  </div>\n</template>\n\n<script>\nimport EventService from '@/services/EventService.js'\nimport UploadImages from 'vue-upload-drop-images'\nexport default {\n  inject: ['GStore'],\n  components: {\n    UploadImages\n  },\n  data() {\n    return {\n      event: {\n        category: '',\n        title: '',\n        description: '',\n        location: '',\n        organizer: { id: '', name: '' },\n        imageUrls: []\n      },\n      files: []\n    }\n  },\n  methods: {\n    saveEvent() {\n      Promise.all(\n        this.files.map((file) => {\n          return EventService.uploadFile(file)\n        })\n      ).then((response) => {\n        this.event.imageUrls = response.map((r) => r.data)\n        EventService.saveEvent(this.event)\n          .then((response) => {\n            console.log(response)\n            this.$router.push({\n              name: 'EventDetails',\n              params: { id: response.data.id }\n            })\n            this.GStore.flashMessage =\n              'You are successfully add a new event for ' + response.data.title\n            setTimeout(() => {\n              this.GStore.flashMessage = ''\n            }, 3000)\n          })\n          .catch(() => {\n            this.$router.push('NetworkError')\n          })\n      })\n    },\n    handleImages(files) {\n      this.files = files\n    }\n  }\n}\n</script>\n<style scoped></style>\n"]},"metadata":{},"sourceType":"module"}